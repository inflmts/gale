#!/bin/sh
# corecon command runner
#
# Scripts should call ~/.local/corecon/lib/* directly, rather than through this
# command. This command exists solely as a convenience to users.
#

usage() {
  printf 'usage: corecon config|apply <args>...\n'
}

if [ "$#" -eq 0 ]; then
  usage >&2
  exit 1
fi

cmd=$1
shift

case "$cmd" in
  config)
    exec ~/.local/corecon/lib/config "$@" ;;
  apply)
    exec ~/.local/corecon/lib/apply "$@" ;;
  help|--help)
    usage
    exit 0
    ;;
  *)
    printf >&2 'error: unrecognized command: %s\n' "$cmd"
    usage >&2
    exit 1
    ;;
esac
